---
layout: default
---

{% if page.collection == "projects" %}
  {% assign is_project = true %}
  {% assign slug = page.path | split: "/" | shift | first %}
  {% assign images = site.documents
      | where_exp: "d", "d.path contains slug"
      | where_exp: "d", "d.name"
      | sort: "basename" %}
  {% assign image_exts = ".jpg .png .gif" %}
  {% assign embed_exts = ".html" %}
{% endif %}



<nav id="projects">
  <ul{% if is_project %} class="details"{% endif %}>
    {% for p in site.projects reversed %}
        {% if p.url == page.url %}
          <li class="viewing">
            <h1>{{ page.title }}</h1>
            <p>{{ page.date | date: "%Y" }}</p>
            <p>{{ page.medium }}</p>
            <p>{{ page.dimension | replace: " x ", "&thinsp;&times;&thinsp;" }}</p>
          </li>
        {% else %}
          <li><a href="{{ p.url | replace: "index.html", "" }}">{{ p.title }}</a></li>
        {% endif %}
    {% endfor %}

    <li>
      <a href="#">one two three four</a>
    </li>
    <li>
      <a href="#">fivesix</a>
    </li>
    <li>
      <a href="#">lorem ipsum</a>
    </li>
    <li>
      <a href="#">a, b, c, d, e</a>
    </li>
    <li>
      <a href="#">rules, borders, ornaments</a>
    </li>
    <li>
      <a href="#">US1383A</a>
    </li>

  </ul>
</nav>

{% if is_project %}

  <div id="gallery">
    <ul>
      {% for i in images %}
        {% assign details = page.settings[i.name] %}

        {% capture class %}
          {%- if details.full -%}full {% endif %}
          {%- if details.clean -%}clean {% endif %}
        {%- endcapture -%}
        {% assign class = class | strip %}

        {%- capture attrs -%}
          class="{{ class }}"
          {%- if details.full -%}
            %style="background-image: url('{{ i.name }}');"
          {%- endif -%}
        {%- endcapture -%}
        {% assign attrs = attrs | replace: "%", " " %}

        <li {{ attrs }}>
          {% if details.full != true %}
            {% if image_exts contains i.extname %}
              <img src="{{ i.name }}"/>
            {% elsif embed_exts contains i.extname %}
              {% include_relative {{ i.name }} %}
            {% endif %}
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>

  <nav id="details">
    <ul>
      {% for i in images %}
        <li>
          <a href="#{{ i.basename }}">{{ i.basename }}</a>
        </li>
      {% endfor %}
    </ul>
  </nav>

  <script type="text/javascript" src="/assets/js/gallery.js"></script>

{% else %}
  {{ content }}
{% endif %}
